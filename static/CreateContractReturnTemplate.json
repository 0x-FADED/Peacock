{
    "title": "$loc $.Contract.Metadata.Title",
    "buttons": [
        {
            "actiontype": "accept",
            "actionlabel": "$loc UI_BUTTON_PROMPTS_ACTION_SELECT"
        }
    ],
    "onpageopened": {
        "show-background-layers": {
            "showMenuTabsUnderlay": true,
            "showMenuDarkBackdrop": true,
            "showMenuDarkBackdropLevelEnd": false,
            "showMenuRedBackdropLevelEnd": false
        },
        "store-unexpanded-contract-condition-data": {
            "data": {
                "$notransform": {
                    "$switch $.Type": [
                        {
                            "case": "kill",
                            "return": {
                                "useZoomedImage": true,
                                "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                "title": "$($repository $.Properties.Id).Name",
                                "image": "$res $($repository $.Properties.Id).Image",
                                "icon": "target",
                                "isnew": "$.Properties.IsNew",
                                "state": "$.Properties.State",
                                "category": "$.Properties.ObjectivesCategory",
                                "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                "contracttype": "$arg ContractType",
                                "conditions": {
                                    "$setup": {
                                        "$set Conditions": "$.Properties.Conditions",
                                        "$in": {
                                            "$each $.Conditions": {
                                                "$mergeobjects": [
                                                    {
                                                        "type": "kill"
                                                    },
                                                    {
                                                        "$switch $.Type": [
                                                            {
                                                                "case": "weapontype",
                                                                "return": {
                                                                    "icon": "difficulty",
                                                                    "satisfied": "$.Satisfied",
                                                                    "hardcondition": "$.HardCondition",
                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                    "title": {
                                                                        "$setup": {
                                                                            "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                            "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                            "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                            "$in": "$loc $formatstring UI_ITEM_ONLINETRAITS_{$.KillItemCategoryOnlineTrait}"
                                                                        }
                                                                    },
                                                                    "image": {
                                                                        "$setup": {
                                                                            "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                            "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                            "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                            "$in": {
                                                                                "$switch $.KillItemCategoryOnlineTrait": [
                                                                                    {
                                                                                        "case": "melee_nonlethal",
                                                                                        "return": "$res $formatstring images/contractconditions/condition_killmethod_melee_lethal.jpg"
                                                                                    },
                                                                                    {
                                                                                        "default": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillItemCategoryOnlineTrait}.jpg"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            {
                                                                "case": "weapon",
                                                                "return": {
                                                                    "icon": "difficulty",
                                                                    "satisfied": "$.Satisfied",
                                                                    "hardcondition": "$.HardCondition",
                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                    "title": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                }
                                                            },
                                                            {
                                                                "case": "hitmansuit",
                                                                "return": {
                                                                    "icon": "disguise",
                                                                    "satisfied": "$.Satisfied",
                                                                    "hardcondition": "$.HardCondition",
                                                                    "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                    "title": "$loc UI_BRIEFING_CONDITION_HITMANSUIT",
                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                }
                                                            },
                                                            {
                                                                "case": "disguise",
                                                                "return": {
                                                                    "icon": "disguise",
                                                                    "satisfied": "$.Satisfied",
                                                                    "hardcondition": "$.HardCondition",
                                                                    "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                    "title": "$loc $($repository $.RepositoryId).Name",
                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                }
                                                            },
                                                            {
                                                                "case": "killmethod",
                                                                "return": {
                                                                    "icon": "difficulty",
                                                                    "satisfied": "$.Satisfied",
                                                                    "hardcondition": "$.HardCondition",
                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                    "title": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                    "image": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillMethod}.jpg"
                                                                }
                                                            },
                                                            {
                                                                "case": "killmethod_specificitem",
                                                                "return": {
                                                                    "icon": "difficulty",
                                                                    "satisfied": "$.Satisfied",
                                                                    "hardcondition": "$.HardCondition",
                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                    "title": {
                                                                        "$setup": {
                                                                            "$set KillItemLocalisedName": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                            "$set KillMethodLocalisedName": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                            "$in": "$formatstring {$.KillMethodLocalisedName}: {$.KillItemLocalisedName}"
                                                                        }
                                                                    },
                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        {
                            "case": "customkill",
                            "return": {
                                "useZoomedImage": true,
                                "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                "title": "$($repository $.Properties.Id).Name",
                                "image": "$res $($repository $.Properties.Id).Image",
                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                "icon": "target",
                                "isnew": "$.Properties.IsNew",
                                "state": "$.Properties.State",
                                "category": "$.Properties.ObjectivesCategory",
                                "displayaskill": "$.Properties.DisplayAsKill",
                                "contracttype": "$arg ContractType",
                                "conditions": [
                                    {
                                        "type": "customkill",
                                        "icon": "difficulty",
                                        "summary": "$expand $.Properties.BriefingText"
                                    }
                                ]
                            }
                        },
                        {
                            "case": "setpiece",
                            "return": {
                                "useZoomedImage": {
                                    "$if $.Properties.DisplayAsKill": {
                                        "$then": true,
                                        "$else": false
                                    }
                                },
                                "header": {
                                    "$if $.Properties.DisplayAsKill": {
                                        "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                        "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                    }
                                },
                                "title": {
                                    "$if $.Properties.BriefingName": {
                                        "$then": "$expand $.Properties.BriefingName",
                                        "$else": "$($repository $.Properties.Id).Name"
                                    }
                                },
                                "image": {
                                    "$if $stringlength $.Properties.Image": {
                                        "$then": "$res $.Properties.Image",
                                        "$else": "$res $($repository $.Properties.Id).Image"
                                    }
                                },
                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                "icon": {
                                    "$if $.Properties.DisplayAsKill": {
                                        "$then": "target",
                                        "$else": "objective"
                                    }
                                },
                                "isnew": "$.Properties.IsNew",
                                "state": "$.Properties.State",
                                "category": "$.Properties.ObjectivesCategory",
                                "longdescription": "$expand $.Properties.LongBriefingText",
                                "displayaskill": "$.Properties.DisplayAsKill",
                                "contracttype": "$arg ContractType",
                                "conditions": [
                                    {
                                        "image": "$res images/ui/tiles/kill_with_something_else.jpg",
                                        "type": "setpiece",
                                        "icon": {
                                            "$if $.Properties.DisplayAsKill": {
                                                "$then": "difficulty",
                                                "$else": "arrowright"
                                            }
                                        },
                                        "summary": "$expand $.Properties.BriefingText"
                                    }
                                ]
                            }
                        },
                        {
                            "case": "custom",
                            "return": {
                                "$if": {
                                    "$condition": {
                                        "$or": [
                                            "$eqs ($arg ContractType,creation)",
                                            "$eqs ($arg ContractType,usercreated)",
                                            "$eqs ($arg ContractType,featured)"
                                        ]
                                    },
                                    "$then": {
                                        "useZoomedImage": false,
                                        "header": {
                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                            }
                                        },
                                        "title": "$expand $.Properties.BriefingName",
                                        "markedforremoval": {
                                            "$if $.Properties.IsMarkedForRemoval": {
                                                "$then": true,
                                                "$else": false
                                            }
                                        },
                                        "image": "$res $.Properties.Image",
                                        "icon": {
                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                "$then": "complication",
                                                "$else": "complication_optional"
                                            }
                                        },
                                        "isnew": "$.Properties.IsNew",
                                        "state": {
                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                "$then": "Unknown",
                                                "$else": "$.Properties.State"
                                            }
                                        },
                                        "category": "$.Properties.ObjectivesCategory",
                                        "longdescription": "$expand $.Properties.LongBriefingText",
                                        "displayaskill": false,
                                        "contracttype": "$arg ContractType",
                                        "conditions": [
                                            {
                                                "type": "setpiece",
                                                "icon": "arrowright",
                                                "summary": "$expand $.Properties.BriefingText"
                                            }
                                        ]
                                    },
                                    "$else": {
                                        "useZoomedImage": {
                                            "$if $.Properties.DisplayAsKill": {
                                                "$then": true,
                                                "$else": false
                                            }
                                        },
                                        "header": {
                                            "$if $.Properties.DisplayAsKill": {
                                                "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                            }
                                        },
                                        "title": "$expand $.Properties.BriefingName",
                                        "image": "$res $.Properties.Image",
                                        "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                        "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                        "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                        "icon": {
                                            "$if $.Properties.DisplayAsKill": {
                                                "$then": "target",
                                                "$else": "objective"
                                            }
                                        },
                                        "isnew": "$.Properties.IsNew",
                                        "state": {
                                            "$if $eqs ($.Properties.State,Completed)": {
                                                "$then": "Completed",
                                                "$else": "Unknown"
                                            }
                                        },
                                        "category": "$.Properties.ObjectivesCategory",
                                        "longdescription": "$expand $.Properties.LongBriefingText",
                                        "displayaskill": "$.Properties.DisplayAsKill",
                                        "contracttype": "$arg ContractType",
                                        "conditions": [
                                            {
                                                "type": "setpiece",
                                                "icon": {
                                                    "$if $.Properties.DisplayAsKill": {
                                                        "$then": "difficulty",
                                                        "$else": "arrowright"
                                                    }
                                                },
                                                "summary": "$expand $.Properties.BriefingText"
                                            }
                                        ]
                                    }
                                }
                            }
                        },
                        {
                            "case": "gamechanger",
                            "return": {
                                "$if": {
                                    "$condition": {
                                        "$or": [
                                            "$eqs ($arg ContractType,creation)",
                                            "$eqs ($arg ContractType,usercreated)",
                                            "$eqs ($arg ContractType,featured)"
                                        ]
                                    },
                                    "$then": {
                                        "useZoomedImage": false,
                                        "header": {
                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                            }
                                        },
                                        "title": "$loc $.Properties.Name",
                                        "markedforremoval": {
                                            "$if $.Properties.IsMarkedForRemoval": {
                                                "$then": true,
                                                "$else": false
                                            }
                                        },
                                        "image": "$res $.Properties.TileImage",
                                        "icon": {
                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                "$then": "complication",
                                                "$else": "complication_optional"
                                            }
                                        },
                                        "briefingfocus": true,
                                        "state": "$.Properties.State",
                                        "category": "$.Properties.ObjectivesCategory",
                                        "longdescription": {
                                            "$if $stringvalid $.Properties.LongDescription": {
                                                "$then": "$loc $.Properties.LongDescription",
                                                "$else": ""
                                            }
                                        },
                                        "contracttype": "$arg ContractType",
                                        "conditions": [
                                            {
                                                "type": "gamechanger",
                                                "icon": "arrowright",
                                                "summary": "$loc $.Properties.Description"
                                            }
                                        ]
                                    },
                                    "$else": {
                                        "useZoomedImage": false,
                                        "header": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                        "title": "$loc $.Properties.Name",
                                        "image": "$res $.Properties.TileImage",
                                        "icon": "complication",
                                        "isnew": "$.Properties.IsNew",
                                        "briefingfocus": true,
                                        "state": "",
                                        "category": "$.Properties.ObjectivesCategory",
                                        "longdescription": {
                                            "$if $stringvalid $.Properties.LongDescription": {
                                                "$then": "$loc $.Properties.LongDescription",
                                                "$else": ""
                                            }
                                        },
                                        "contracttype": "$arg ContractType",
                                        "conditions": [
                                            {
                                                "type": "gamechanger",
                                                "icon": "arrowright",
                                                "summary": "$loc $.Properties.Description"
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    ]
                }
            }
        }
    },
    "body": {
        "controller": "list",
        "children": [
            {
                "controller": "group",
                "id": "headline_container",
                "row": 4.25,
                "col": 0,
                "selectable": false,
                "pressable": false,
                "_comment": "the container that will hold the HeadlineElement. It will show info on whatever item is selected",
                "children": {
                    "id": "headline_element",
                    "view": "menu3.basic.HeadlineElement"
                }
            },
            {
                "controller": "group",
                "row": 4.25,
                "col": 0,
                "selectable": false,
                "pressable": false,
                "children": [
                    {
                        "view": "menu3.basic.HeadlineElement",
                        "id": "contract_title",
                        "data": {
                            "header": "$loc UI_CONTRACT_HEADER_USERCREATED",
                            "title": {
                                "$if $stringvalid $arg _usertitle": {
                                    "$then": "$arg _usertitle",
                                    "$else": "$expand $.Contract.Title"
                                }
                            },
                            "typeicon": "contract"
                        }
                    }
                ]
            },
            {
                "controller": "list",
                "id": "category_container"
            },
            {
                "view": "menu3.containers.ScrollingTabsContainer",
                "direction": "horizontal",
                "data": {
                    "direction": "horizontal",
                    "buttonprompts": [
                        {
                            "actiontype": ["lb", "rb"],
                            "actionlabel": "$loc UI_MENU_PAGE_EDIT_CONTRACT_TITLE"
                        }
                    ]
                },
                "ncols": 10,
                "_comment": "note the below two fields, the container tells the category controller which container is to be used",
                "controller": "category",
                "container": "category_container",
                "children": [
                    {
                        "view": "menu3.basic.CategoryElement",
                        "id": "category_edit_contract",
                        "data": {
                            "title": "$loc UI_MENU_PAGE_EDIT_CONTRACT_TITLE",
                            "icon": "background"
                        },
                        "children": [
                            {
                                "controller": "list",
                                "view": "menu3.containers.ScrollingListContainer",
                                "row": 1,
                                "nrows": 3,
                                "ncols": 10,
                                "direction": "horizontal",
                                "data": {
                                    "direction": "horizontal"
                                },
                                "children": {
                                    "$merge": [
                                        {
                                            "controller": "list",
                                            "view": "menu3.containers.ListContainer",
                                            "direction": "vertical",
                                            "data": {
                                                "direction": "vertical"
                                            },
                                            "children": [
                                                {
                                                    "view": "menu3.basic.ButtonTileXXSmall",
                                                    "nrows": 0.5,
                                                    "ncols": 2,
                                                    "data": {
                                                        "title": "$loc UI_MENU_PAGE_EDIT_CONTRACT_EDIT_TITLE",
                                                        "icon": "edit"
                                                    },
                                                    "actions": {
                                                        "select": {
                                                            "show-node": "contract_title"
                                                        },
                                                        "deselect": {
                                                            "hide-node": "contract_title"
                                                        },
                                                        "accept": {
                                                            "show-edit-text-dialog": {
                                                                "target": "contract_title",
                                                                "dataproperty": "title",
                                                                "title": "$loc UI_MENU_PAGE_EDIT_CONTRACT_EDIT_TITLE",
                                                                "maxlength": 40,
                                                                "dialog-type": "line",
                                                                "onbutton": [
                                                                    {
                                                                        "store-user-text": {}
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "view": "menu3.basic.ButtonTileXXSmall",
                                                    "nrows": 0.5,
                                                    "ncols": 2,
                                                    "data": {
                                                        "title": "$loc UI_MENU_PAGE_EDIT_CONTRACT_EDIT_DESCRIPTION",
                                                        "icon": "edit"
                                                    },
                                                    "actions": {
                                                        "select": {
                                                            "show-node": "contract_title"
                                                        },
                                                        "deselect": {
                                                            "hide-node": "contract_title"
                                                        },
                                                        "accept": {
                                                            "show-edit-text-dialog": {
                                                                "target": "briefing-tile",
                                                                "dataproperty": "briefing",
                                                                "title": "$loc UI_MENU_PAGE_EDIT_CONTRACT_EDIT_DESCRIPTION",
                                                                "maxlength": 500,
                                                                "onbutton": [
                                                                    {
                                                                        "store-user-text": {}
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "view": "menu3.basic.ButtonTileSmall",
                                                    "nrows": 1,
                                                    "ncols": 2,
                                                    "data": {
                                                        "title": "$loc UI_MENU_PAGE_EDIT_CONTRACT_EDIT_SAVE",
                                                        "icon": "publish"
                                                    },
                                                    "actions": {
                                                        "select": {
                                                            "show-node": "contract_title"
                                                        },
                                                        "deselect": {
                                                            "hide-node": "contract_title"
                                                        },
                                                        "accept": {
                                                            "save-contract": {}
                                                        },
                                                        "on-save-success": {
                                                            "set-persistent-context": {
                                                                "target": "hub",
                                                                "actions": [
                                                                    {
                                                                        "set-persistent-context": {
                                                                            "target": "gamemode_contracts",
                                                                            "actions": [
                                                                                {
                                                                                    "set-selected": {
                                                                                        "target": "MyContracts_tile"
                                                                                    }
                                                                                },
                                                                                {
                                                                                    "trigger-input": {
                                                                                        "action": "accept"
                                                                                    }
                                                                                }
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "set-selected": {
                                                                            "target": "category_gamemodes"
                                                                        }
                                                                    },
                                                                    {
                                                                        "trigger-input": {
                                                                            "action": "accept"
                                                                        }
                                                                    }
                                                                ]
                                                            },
                                                            "exit-to-main-menu": {}
                                                        }
                                                    }
                                                },
                                                {
                                                    "view": "menu3.basic.ButtonTileXXSmall",
                                                    "nrows": 0.5,
                                                    "ncols": 2,
                                                    "data": {
                                                        "title": "$loc UI_MENU_PAGE_EDIT_CONTRACT_EDIT_DISCARD",
                                                        "icon": "replay"
                                                    },
                                                    "actions": {
                                                        "select": {
                                                            "show-node": "contract_title"
                                                        },
                                                        "deselect": {
                                                            "hide-node": "contract_title"
                                                        },
                                                        "accept": {
                                                            "show-modal": {
                                                                "config": {
                                                                    "view": "menu3.modal.ModalDialogGeneric",
                                                                    "buttons": [
                                                                        "$loc UI_DIALOG_CONFIRM",
                                                                        {
                                                                            "label": "$loc UI_DIALOG_CANCEL",
                                                                            "type": "cancel"
                                                                        }
                                                                    ],
                                                                    "data": {
                                                                        "title": "$loc UI_DIALOG_RESTART_LEVEL_TITLE",
                                                                        "description": {
                                                                            "$loc": {
                                                                                "key": "UI_DIALOG_CONFIRM_TEXT",
                                                                                "data": "$loc UI_DIALOG_ACTION_RESTART_LEVEL"
                                                                            }
                                                                        }
                                                                    }
                                                                },
                                                                "onbutton": [
                                                                    {
                                                                        "restart-level": {}
                                                                    },
                                                                    {
                                                                        "set-selected": {}
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "view": "menu3.basic.ButtonTileXXSmall",
                                                    "nrows": 0.5,
                                                    "ncols": 2,
                                                    "data": {
                                                        "title": "$loc UI_MENU_PAGE_DEBRIEFING_NEXT",
                                                        "icon": "exit"
                                                    },
                                                    "actions": {
                                                        "select": {
                                                            "show-node": "contract_title"
                                                        },
                                                        "deselect": {
                                                            "hide-node": "contract_title"
                                                        },
                                                        "accept": {
                                                            "show-modal": {
                                                                "config": {
                                                                    "view": "menu3.modal.ModalDialogGeneric",
                                                                    "buttons": [
                                                                        "$loc UI_DIALOG_CONFIRM",
                                                                        {
                                                                            "label": "$loc UI_DIALOG_CANCEL",
                                                                            "type": "cancel"
                                                                        }
                                                                    ],
                                                                    "data": {
                                                                        "title": "$loc UI_DIALOG_ACTION_EXIT_TO_MAIN_MENU_TITLE",
                                                                        "description": {
                                                                            "$loc": {
                                                                                "key": "UI_DIALOG_CONFIRM_TEXT",
                                                                                "data": "$loc UI_DIALOG_ACTION_EXIT_TO_MAIN_MENU"
                                                                            }
                                                                        }
                                                                    }
                                                                },
                                                                "onbutton": [
                                                                    {
                                                                        "exit-to-main-menu": {}
                                                                    },
                                                                    {
                                                                        "set-selected": {}
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    }
                                                }
                                            ]
                                        },
                                        {
                                            "controller": "list",
                                            "view": "menu3.containers.ListContainer",
                                            "id": "debriefingpage",
                                            "direction": "horizontal",
                                            "data": {
                                                "direction": "horizontal",
                                                "mousewheelstepsize": "0"
                                            },
                                            "children": {
                                                "$merge": [
                                                    {
                                                        "view": "menu3.basic.MenuTileLarge",
                                                        "id": "briefing-tile",
                                                        "pressable": true,
                                                        "data": {
                                                            "header": "$loc UI_AUTHOR_BY",
                                                            "title": "$($user $.Contract.Creator).name",
                                                            "image": "$res images/ui/tiles/contractbriefingtile.jpg",
                                                            "briefingheader": "$loc UI_BRIEFING_TITLE",
                                                            "briefing": {
                                                                "$if $stringvalid $arg _userdescription": {
                                                                    "$then": "$arg _userdescription",
                                                                    "$else": "$loc $.Contract.Description"
                                                                }
                                                            },
                                                            "icon": "background",
                                                            "video": false
                                                        },
                                                        "stateproviders": [
                                                            {
                                                                "type": "userresolution",
                                                                "target": "title",
                                                                "profileid": "$.Contract.Creator"
                                                            }
                                                        ],
                                                        "actions": {
                                                            "select": {
                                                                "replace-children": {
                                                                    "target": "headline_container",
                                                                    "children": [
                                                                        {
                                                                            "view": "menu3.basic.HeadlineElement",
                                                                            "data": {
                                                                                "header": "$loc UI_AUTHOR_BY",
                                                                                "title": "$($user $.Contract.Creator).name",
                                                                                "typeicon": "background"
                                                                            },
                                                                            "stateproviders": [
                                                                                {
                                                                                    "type": "userresolution",
                                                                                    "target": "title",
                                                                                    "profileid": "$.Contract.Creator"
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            "deselect": {
                                                                "replace-children": {
                                                                    "target": "headline_container",
                                                                    "children": []
                                                                }
                                                            },
                                                            "accept": {
                                                                "show-edit-text-dialog": {
                                                                    "target": "briefing-tile",
                                                                    "dataproperty": "briefing",
                                                                    "title": "$loc UI_MENU_PAGE_EDIT_CONTRACT_EDIT_DESCRIPTION",
                                                                    "maxlength": 500,
                                                                    "onbutton": [
                                                                        {
                                                                            "store-user-text": {}
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "controller": "group",
                                                        "pages": "true",
                                                        "nrows": 3,
                                                        "ncols": 10,
                                                        "children": {
                                                            "controller": "list",
                                                            "view": "menu3.containers.ListContainer",
                                                            "direction": "horizontal",
                                                            "data": {
                                                                "direction": "horizontal"
                                                            },
                                                            "children": {
                                                                "$merge": [
                                                                    {
                                                                        "$each $.Contract.Targets": {
                                                                            "view": "menu3.basic.ObjectiveTile",
                                                                            "data": {
                                                                                "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                "title": "$($repository $.RepositoryId).Name",
                                                                                "image": "$res $($repository $.RepositoryId).Image",
                                                                                "icon": "target",
                                                                                "completed": true,
                                                                                "conditions": []
                                                                            },
                                                                            "actions": {
                                                                                "on-page-opened": {
                                                                                    "initialise-target-condition-tiles": {
                                                                                        "Id": "$.RepositoryId"
                                                                                    }
                                                                                },
                                                                                "select": {
                                                                                    "replace-children": {
                                                                                        "target": "headline_container",
                                                                                        "children": [
                                                                                            {
                                                                                                "view": "menu3.basic.HeadlineElement",
                                                                                                "data": {
                                                                                                    "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                    "title": "$($repository $.RepositoryId).Name",
                                                                                                    "typeicon": "target"
                                                                                                }
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                },
                                                                                "deselect": {
                                                                                    "replace-children": {
                                                                                        "target": "headline_container",
                                                                                        "children": []
                                                                                    }
                                                                                },
                                                                                "accept": {
                                                                                    "show-modal": {
                                                                                        "config": {
                                                                                            "view": "menu3.modal.ModalDialogGeneric",
                                                                                            "buttons": [
                                                                                                "$loc UI_DIALOG_OK"
                                                                                            ],
                                                                                            "data": {
                                                                                                "title": "$($repository $.RepositoryId).Name",
                                                                                                "information": [
                                                                                                    {
                                                                                                        "description": "$loc $($repository $.RepositoryId).Description_LOC"
                                                                                                    }
                                                                                                ]
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                },
                                                                                "action-y": {
                                                                                    "cycle-kill-method-pressed": {
                                                                                        "Id": "$.RepositoryId"
                                                                                    }
                                                                                },
                                                                                "action-x": {
                                                                                    "require-outfit-pressed": {
                                                                                        "Id": "$.RepositoryId"
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "$each $.Contract.ContractConditions": {
                                                                            "controller": "list",
                                                                            "view": "menu3.containers.ListContainer",
                                                                            "direction": "horizontal",
                                                                            "data": {
                                                                                "direction": "horizontal"
                                                                            },
                                                                            "children": {
                                                                                "$merge": [
                                                                                    {
                                                                                        "$each $.Secondary": {
                                                                                            "view": "menu3.basic.ObjectiveTile",
                                                                                            "nrows": 3,
                                                                                            "ncols": 2,
                                                                                            "id": "$formatstring OBJECTIVE_TARGET_{$.Properties.Id}",
                                                                                            "data": {
                                                                                                "$switch $.Type": [
                                                                                                    {
                                                                                                        "case": "kill",
                                                                                                        "return": {
                                                                                                            "useZoomedImage": true,
                                                                                                            "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                            "title": "$($repository $.Properties.Id).Name",
                                                                                                            "image": "$res $($repository $.Properties.Id).Image",
                                                                                                            "icon": "target",
                                                                                                            "isnew": "$.Properties.IsNew",
                                                                                                            "state": "$.Properties.State",
                                                                                                            "category": "$.Properties.ObjectivesCategory",
                                                                                                            "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                            "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                            "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                            "contracttype": "$arg ContractType",
                                                                                                            "conditions": {
                                                                                                                "$setup": {
                                                                                                                    "$set Conditions": "$.Properties.Conditions",
                                                                                                                    "$in": {
                                                                                                                        "$each $.Conditions": {
                                                                                                                            "$mergeobjects": [
                                                                                                                                {
                                                                                                                                    "type": "kill"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "$switch $.Type": [
                                                                                                                                        {
                                                                                                                                            "case": "weapontype",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "difficulty",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                "title": {
                                                                                                                                                    "$setup": {
                                                                                                                                                        "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                                                                                                        "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                                                                                                        "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                                                                                                        "$in": "$loc $formatstring UI_ITEM_ONLINETRAITS_{$.KillItemCategoryOnlineTrait}"
                                                                                                                                                    }
                                                                                                                                                },
                                                                                                                                                "image": {
                                                                                                                                                    "$setup": {
                                                                                                                                                        "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                                                                                                        "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                                                                                                        "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                                                                                                        "$in": {
                                                                                                                                                            "$switch $.KillItemCategoryOnlineTrait": [
                                                                                                                                                                {
                                                                                                                                                                    "case": "melee_nonlethal",
                                                                                                                                                                    "return": "$res $formatstring images/contractconditions/condition_killmethod_melee_lethal.jpg"
                                                                                                                                                                },
                                                                                                                                                                {
                                                                                                                                                                    "default": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillItemCategoryOnlineTrait}.jpg"
                                                                                                                                                                }
                                                                                                                                                            ]
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "weapon",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "difficulty",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                "title": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                                                                                                "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "hitmansuit",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "disguise",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                                                                                                "title": "$loc UI_BRIEFING_CONDITION_HITMANSUIT",
                                                                                                                                                "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "disguise",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "disguise",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                                                                                                "title": "$loc $($repository $.RepositoryId).Name",
                                                                                                                                                "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "killmethod",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "difficulty",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                "title": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                                                                                                "image": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillMethod}.jpg"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "killmethod_specificitem",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "difficulty",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                "title": {
                                                                                                                                                    "$setup": {
                                                                                                                                                        "$set KillItemLocalisedName": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                                                                                                        "$set KillMethodLocalisedName": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                                                                                                        "$in": "$formatstring {$.KillMethodLocalisedName}: {$.KillItemLocalisedName}"
                                                                                                                                                    }
                                                                                                                                                },
                                                                                                                                                "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    ]
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "case": "customkill",
                                                                                                        "return": {
                                                                                                            "useZoomedImage": true,
                                                                                                            "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                            "title": "$($repository $.Properties.Id).Name",
                                                                                                            "image": "$res $($repository $.Properties.Id).Image",
                                                                                                            "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                            "icon": "target",
                                                                                                            "isnew": "$.Properties.IsNew",
                                                                                                            "state": "$.Properties.State",
                                                                                                            "category": "$.Properties.ObjectivesCategory",
                                                                                                            "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                            "contracttype": "$arg ContractType",
                                                                                                            "conditions": [
                                                                                                                {
                                                                                                                    "type": "customkill",
                                                                                                                    "icon": "difficulty",
                                                                                                                    "summary": "$expand $.Properties.BriefingText"
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "case": "setpiece",
                                                                                                        "return": {
                                                                                                            "useZoomedImage": {
                                                                                                                "$if $.Properties.DisplayAsKill": {
                                                                                                                    "$then": true,
                                                                                                                    "$else": false
                                                                                                                }
                                                                                                            },
                                                                                                            "header": {
                                                                                                                "$if $.Properties.DisplayAsKill": {
                                                                                                                    "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                    "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                                                                                                }
                                                                                                            },
                                                                                                            "title": {
                                                                                                                "$if $.Properties.BriefingName": {
                                                                                                                    "$then": "$expand $.Properties.BriefingName",
                                                                                                                    "$else": "$($repository $.Properties.Id).Name"
                                                                                                                }
                                                                                                            },
                                                                                                            "image": {
                                                                                                                "$if $stringlength $.Properties.Image": {
                                                                                                                    "$then": "$res $.Properties.Image",
                                                                                                                    "$else": "$res $($repository $.Properties.Id).Image"
                                                                                                                }
                                                                                                            },
                                                                                                            "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                            "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                            "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                            "icon": {
                                                                                                                "$if $.Properties.DisplayAsKill": {
                                                                                                                    "$then": "target",
                                                                                                                    "$else": "objective"
                                                                                                                }
                                                                                                            },
                                                                                                            "isnew": "$.Properties.IsNew",
                                                                                                            "state": "$.Properties.State",
                                                                                                            "category": "$.Properties.ObjectivesCategory",
                                                                                                            "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                            "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                            "contracttype": "$arg ContractType",
                                                                                                            "conditions": [
                                                                                                                {
                                                                                                                    "image": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                    "type": "setpiece",
                                                                                                                    "icon": {
                                                                                                                        "$if $.Properties.DisplayAsKill": {
                                                                                                                            "$then": "difficulty",
                                                                                                                            "$else": "arrowright"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "summary": "$expand $.Properties.BriefingText"
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "case": "custom",
                                                                                                        "return": {
                                                                                                            "$if": {
                                                                                                                "$condition": {
                                                                                                                    "$or": [
                                                                                                                        "$eqs ($arg ContractType,creation)",
                                                                                                                        "$eqs ($arg ContractType,usercreated)",
                                                                                                                        "$eqs ($arg ContractType,featured)"
                                                                                                                    ]
                                                                                                                },
                                                                                                                "$then": {
                                                                                                                    "useZoomedImage": false,
                                                                                                                    "header": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                            "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "title": "$expand $.Properties.BriefingName",
                                                                                                                    "markedforremoval": {
                                                                                                                        "$if $.Properties.IsMarkedForRemoval": {
                                                                                                                            "$then": true,
                                                                                                                            "$else": false
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "image": "$res $.Properties.Image",
                                                                                                                    "icon": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "complication",
                                                                                                                            "$else": "complication_optional"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "isnew": "$.Properties.IsNew",
                                                                                                                    "state": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "Unknown",
                                                                                                                            "$else": "$.Properties.State"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "category": "$.Properties.ObjectivesCategory",
                                                                                                                    "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                    "displayaskill": false,
                                                                                                                    "contracttype": "$arg ContractType",
                                                                                                                    "conditions": [
                                                                                                                        {
                                                                                                                            "type": "setpiece",
                                                                                                                            "icon": "arrowright",
                                                                                                                            "summary": "$expand $.Properties.BriefingText"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                "$else": {
                                                                                                                    "useZoomedImage": {
                                                                                                                        "$if $.Properties.DisplayAsKill": {
                                                                                                                            "$then": true,
                                                                                                                            "$else": false
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "header": {
                                                                                                                        "$if $.Properties.DisplayAsKill": {
                                                                                                                            "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                            "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "title": "$expand $.Properties.BriefingName",
                                                                                                                    "image": "$res $.Properties.Image",
                                                                                                                    "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                    "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                                    "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                                    "icon": {
                                                                                                                        "$if $.Properties.DisplayAsKill": {
                                                                                                                            "$then": "target",
                                                                                                                            "$else": "objective"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "isnew": "$.Properties.IsNew",
                                                                                                                    "state": {
                                                                                                                        "$if $eqs ($.Properties.State,Completed)": {
                                                                                                                            "$then": "Completed",
                                                                                                                            "$else": "Unknown"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "category": "$.Properties.ObjectivesCategory",
                                                                                                                    "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                    "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                                    "contracttype": "$arg ContractType",
                                                                                                                    "conditions": [
                                                                                                                        {
                                                                                                                            "type": "setpiece",
                                                                                                                            "icon": {
                                                                                                                                "$if $.Properties.DisplayAsKill": {
                                                                                                                                    "$then": "difficulty",
                                                                                                                                    "$else": "arrowright"
                                                                                                                                }
                                                                                                                            },
                                                                                                                            "summary": "$expand $.Properties.BriefingText"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "case": "gamechanger",
                                                                                                        "return": {
                                                                                                            "$if": {
                                                                                                                "$condition": {
                                                                                                                    "$or": [
                                                                                                                        "$eqs ($arg ContractType,creation)",
                                                                                                                        "$eqs ($arg ContractType,usercreated)",
                                                                                                                        "$eqs ($arg ContractType,featured)"
                                                                                                                    ]
                                                                                                                },
                                                                                                                "$then": {
                                                                                                                    "useZoomedImage": false,
                                                                                                                    "header": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                            "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "title": "$loc $.Properties.Name",
                                                                                                                    "markedforremoval": {
                                                                                                                        "$if $.Properties.IsMarkedForRemoval": {
                                                                                                                            "$then": true,
                                                                                                                            "$else": false
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "image": "$res $.Properties.TileImage",
                                                                                                                    "icon": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "complication",
                                                                                                                            "$else": "complication_optional"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "briefingfocus": true,
                                                                                                                    "state": "$.Properties.State",
                                                                                                                    "category": "$.Properties.ObjectivesCategory",
                                                                                                                    "longdescription": {
                                                                                                                        "$if $stringvalid $.Properties.LongDescription": {
                                                                                                                            "$then": "$loc $.Properties.LongDescription",
                                                                                                                            "$else": ""
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "contracttype": "$arg ContractType",
                                                                                                                    "conditions": [
                                                                                                                        {
                                                                                                                            "type": "gamechanger",
                                                                                                                            "icon": "arrowright",
                                                                                                                            "summary": "$loc $.Properties.Description"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                "$else": {
                                                                                                                    "useZoomedImage": false,
                                                                                                                    "header": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                    "title": "$loc $.Properties.Name",
                                                                                                                    "image": "$res $.Properties.TileImage",
                                                                                                                    "icon": "complication",
                                                                                                                    "isnew": "$.Properties.IsNew",
                                                                                                                    "briefingfocus": true,
                                                                                                                    "state": "",
                                                                                                                    "category": "$.Properties.ObjectivesCategory",
                                                                                                                    "longdescription": {
                                                                                                                        "$if $stringvalid $.Properties.LongDescription": {
                                                                                                                            "$then": "$loc $.Properties.LongDescription",
                                                                                                                            "$else": ""
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "contracttype": "$arg ContractType",
                                                                                                                    "conditions": [
                                                                                                                        {
                                                                                                                            "type": "gamechanger",
                                                                                                                            "icon": "arrowright",
                                                                                                                            "summary": "$loc $.Properties.Description"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                ]
                                                                                            },
                                                                                            "buttons": [
                                                                                                {
                                                                                                    "$if ": {
                                                                                                        "$condition": {
                                                                                                            "$and": [
                                                                                                                "$eqs ($arg ContractType,creation)",
                                                                                                                "$not $arg WasExitGateTriggered"
                                                                                                            ]
                                                                                                        },
                                                                                                        "$then": {
                                                                                                            "$switch $.Type": [
                                                                                                                {
                                                                                                                    "case": "kill",
                                                                                                                    "return": {
                                                                                                                        "actiontype": "action-y",
                                                                                                                        "actionlabel": "$loc UI_BUTTON_PROMPTS_ACTION_UNMARK_TARGET"
                                                                                                                    }
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            ],
                                                                                            "actions": {
                                                                                                "on-page-opened": {
                                                                                                    "$if $eqs ($arg ContractType,creation)": {
                                                                                                        "$then": {
                                                                                                            "$switch $.Type": [
                                                                                                                {
                                                                                                                    "case": "gamechanger",
                                                                                                                    "return": {
                                                                                                                        "initialise-contract-condition-tiles": {
                                                                                                                            "Id": "$.Properties.Id"
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "case": "custom",
                                                                                                                    "return": {
                                                                                                                        "initialise-contract-condition-tiles": {
                                                                                                                            "Id": "$.Properties.Id"
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                },
                                                                                                "select": {
                                                                                                    "replace-children": {
                                                                                                        "target": "headline_container",
                                                                                                        "children": [
                                                                                                            {
                                                                                                                "view": "menu3.basic.HeadlineElement",
                                                                                                                "id": "headline_element"
                                                                                                            }
                                                                                                        ]
                                                                                                    },
                                                                                                    "update-content": {
                                                                                                        "target": "headline_element"
                                                                                                    },
                                                                                                    "hide-node": [
                                                                                                        "planningpage",
                                                                                                        "playpage"
                                                                                                    ],
                                                                                                    "set-group-selection": {
                                                                                                        "target": "briefing_button"
                                                                                                    }
                                                                                                },
                                                                                                "deselect": {
                                                                                                    "$mergeobjects": [
                                                                                                        {
                                                                                                            "replace-children": {
                                                                                                                "target": "headline_container",
                                                                                                                "children": []
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "$switch $arg ContractType": [
                                                                                                                {
                                                                                                                    "case": "escalation",
                                                                                                                    "return": {
                                                                                                                        "hide-node": "escalation_level_headline_container"
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "case": "placeholder",
                                                                                                                    "return": {
                                                                                                                        "hide-node": "escalation_level_headline_container"
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "default": null
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                "accept": {
                                                                                                    "show-modal": {
                                                                                                        "config": {
                                                                                                            "priority": "low",
                                                                                                            "view": "menu3.modal.ModalDialogTargetObjectives",
                                                                                                            "buttons": [
                                                                                                                "$loc UI_DIALOG_OK",
                                                                                                                {
                                                                                                                    "type": "cancel"
                                                                                                                }
                                                                                                            ],
                                                                                                            "data": {
                                                                                                                "type": "$.Type",
                                                                                                                "infotitle": "$loc UI_MENU_PAGE_PAUSE_INTEL",
                                                                                                                "infoicon": "intel",
                                                                                                                "conditionstitle": "$loc UI_CONTRACT_KILL_CONDITIONS",
                                                                                                                "conditionsicon": "difficulty",
                                                                                                                "useconditions": true,
                                                                                                                "preferdescription": {
                                                                                                                    "$if": {
                                                                                                                        "$condition": {
                                                                                                                            "$and": [
                                                                                                                                "$not $eqs ($arg ContractType,escalation)",
                                                                                                                                "$not $eqs ($arg ContractType,placeholder)",
                                                                                                                                "$not $eqs ($arg ContractType,featured)",
                                                                                                                                "$not $eqs ($arg ContractType,usercreated)"
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                                "description": "$loc $($repository $.Properties.Id).Description_LOC",
                                                                                                                "objective": {
                                                                                                                    "$switch $.Type": [
                                                                                                                        {
                                                                                                                            "case": "kill",
                                                                                                                            "return": {
                                                                                                                                "useZoomedImage": true,
                                                                                                                                "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                                "title": "$($repository $.Properties.Id).Name",
                                                                                                                                "image": "$res $($repository $.Properties.Id).Image",
                                                                                                                                "icon": "target",
                                                                                                                                "isnew": "$.Properties.IsNew",
                                                                                                                                "state": "$.Properties.State",
                                                                                                                                "category": "$.Properties.ObjectivesCategory",
                                                                                                                                "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                                                "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                "contracttype": "$arg ContractType",
                                                                                                                                "conditions": {
                                                                                                                                    "$setup": {
                                                                                                                                        "$set Conditions": "$.Properties.Conditions",
                                                                                                                                        "$in": {
                                                                                                                                            "$each $.Conditions": {
                                                                                                                                                "$mergeobjects": [
                                                                                                                                                    {
                                                                                                                                                        "type": "kill"
                                                                                                                                                    },
                                                                                                                                                    {
                                                                                                                                                        "$switch $.Type": [
                                                                                                                                                            {
                                                                                                                                                                "case": "weapontype",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "difficulty",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                                    "title": {
                                                                                                                                                                        "$setup": {
                                                                                                                                                                            "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                                                                                                                            "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                                                                                                                            "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                                                                                                                            "$in": "$loc $formatstring UI_ITEM_ONLINETRAITS_{$.KillItemCategoryOnlineTrait}"
                                                                                                                                                                        }
                                                                                                                                                                    },
                                                                                                                                                                    "image": {
                                                                                                                                                                        "$setup": {
                                                                                                                                                                            "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                                                                                                                            "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                                                                                                                            "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                                                                                                                            "$in": {
                                                                                                                                                                                "$switch $.KillItemCategoryOnlineTrait": [
                                                                                                                                                                                    {
                                                                                                                                                                                        "case": "melee_nonlethal",
                                                                                                                                                                                        "return": "$res $formatstring images/contractconditions/condition_killmethod_melee_lethal.jpg"
                                                                                                                                                                                    },
                                                                                                                                                                                    {
                                                                                                                                                                                        "default": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillItemCategoryOnlineTrait}.jpg"
                                                                                                                                                                                    }
                                                                                                                                                                                ]
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "weapon",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "difficulty",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                                    "title": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                                                                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "hitmansuit",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "disguise",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                                                                                                                    "title": "$loc UI_BRIEFING_CONDITION_HITMANSUIT",
                                                                                                                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "disguise",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "disguise",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                                                                                                                    "title": "$loc $($repository $.RepositoryId).Name",
                                                                                                                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "killmethod",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "difficulty",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                                    "title": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                                                                                                                    "image": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillMethod}.jpg"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "killmethod_specificitem",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "difficulty",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                                    "title": {
                                                                                                                                                                        "$setup": {
                                                                                                                                                                            "$set KillItemLocalisedName": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                                                                                                                            "$set KillMethodLocalisedName": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                                                                                                                            "$in": "$formatstring {$.KillMethodLocalisedName}: {$.KillItemLocalisedName}"
                                                                                                                                                                        }
                                                                                                                                                                    },
                                                                                                                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                        ]
                                                                                                                                                    }
                                                                                                                                                ]
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "case": "customkill",
                                                                                                                            "return": {
                                                                                                                                "useZoomedImage": true,
                                                                                                                                "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                                "title": "$($repository $.Properties.Id).Name",
                                                                                                                                "image": "$res $($repository $.Properties.Id).Image",
                                                                                                                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                "icon": "target",
                                                                                                                                "isnew": "$.Properties.IsNew",
                                                                                                                                "state": "$.Properties.State",
                                                                                                                                "category": "$.Properties.ObjectivesCategory",
                                                                                                                                "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                                                "contracttype": "$arg ContractType",
                                                                                                                                "conditions": [
                                                                                                                                    {
                                                                                                                                        "type": "customkill",
                                                                                                                                        "icon": "difficulty",
                                                                                                                                        "summary": "$expand $.Properties.BriefingText"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "case": "setpiece",
                                                                                                                            "return": {
                                                                                                                                "useZoomedImage": {
                                                                                                                                    "$if $.Properties.DisplayAsKill": {
                                                                                                                                        "$then": true,
                                                                                                                                        "$else": false
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "header": {
                                                                                                                                    "$if $.Properties.DisplayAsKill": {
                                                                                                                                        "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                                        "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "title": {
                                                                                                                                    "$if $.Properties.BriefingName": {
                                                                                                                                        "$then": "$expand $.Properties.BriefingName",
                                                                                                                                        "$else": "$($repository $.Properties.Id).Name"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "image": {
                                                                                                                                    "$if $stringlength $.Properties.Image": {
                                                                                                                                        "$then": "$res $.Properties.Image",
                                                                                                                                        "$else": "$res $($repository $.Properties.Id).Image"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                                                "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                                                "icon": {
                                                                                                                                    "$if $.Properties.DisplayAsKill": {
                                                                                                                                        "$then": "target",
                                                                                                                                        "$else": "objective"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "isnew": "$.Properties.IsNew",
                                                                                                                                "state": "$.Properties.State",
                                                                                                                                "category": "$.Properties.ObjectivesCategory",
                                                                                                                                "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                                "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                                                "contracttype": "$arg ContractType",
                                                                                                                                "conditions": [
                                                                                                                                    {
                                                                                                                                        "image": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                        "type": "setpiece",
                                                                                                                                        "icon": {
                                                                                                                                            "$if $.Properties.DisplayAsKill": {
                                                                                                                                                "$then": "difficulty",
                                                                                                                                                "$else": "arrowright"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "summary": "$expand $.Properties.BriefingText"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "case": "custom",
                                                                                                                            "return": {
                                                                                                                                "$if": {
                                                                                                                                    "$condition": {
                                                                                                                                        "$or": [
                                                                                                                                            "$eqs ($arg ContractType,creation)",
                                                                                                                                            "$eqs ($arg ContractType,usercreated)",
                                                                                                                                            "$eqs ($arg ContractType,featured)"
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "$then": {
                                                                                                                                        "useZoomedImage": false,
                                                                                                                                        "header": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                                                "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "title": "$expand $.Properties.BriefingName",
                                                                                                                                        "markedforremoval": {
                                                                                                                                            "$if $.Properties.IsMarkedForRemoval": {
                                                                                                                                                "$then": true,
                                                                                                                                                "$else": false
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "image": "$res $.Properties.Image",
                                                                                                                                        "icon": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "complication",
                                                                                                                                                "$else": "complication_optional"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "isnew": "$.Properties.IsNew",
                                                                                                                                        "state": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "Unknown",
                                                                                                                                                "$else": "$.Properties.State"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "category": "$.Properties.ObjectivesCategory",
                                                                                                                                        "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                                        "displayaskill": false,
                                                                                                                                        "contracttype": "$arg ContractType",
                                                                                                                                        "conditions": [
                                                                                                                                            {
                                                                                                                                                "type": "setpiece",
                                                                                                                                                "icon": "arrowright",
                                                                                                                                                "summary": "$expand $.Properties.BriefingText"
                                                                                                                                            }
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "$else": {
                                                                                                                                        "useZoomedImage": {
                                                                                                                                            "$if $.Properties.DisplayAsKill": {
                                                                                                                                                "$then": true,
                                                                                                                                                "$else": false
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "header": {
                                                                                                                                            "$if $.Properties.DisplayAsKill": {
                                                                                                                                                "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                                                "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "title": "$expand $.Properties.BriefingName",
                                                                                                                                        "image": "$res $.Properties.Image",
                                                                                                                                        "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                        "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                                                        "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                                                        "icon": {
                                                                                                                                            "$if $.Properties.DisplayAsKill": {
                                                                                                                                                "$then": "target",
                                                                                                                                                "$else": "objective"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "isnew": "$.Properties.IsNew",
                                                                                                                                        "state": {
                                                                                                                                            "$if $eqs ($.Properties.State,Completed)": {
                                                                                                                                                "$then": "Completed",
                                                                                                                                                "$else": "Unknown"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "category": "$.Properties.ObjectivesCategory",
                                                                                                                                        "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                                        "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                                                        "contracttype": "$arg ContractType",
                                                                                                                                        "conditions": [
                                                                                                                                            {
                                                                                                                                                "type": "setpiece",
                                                                                                                                                "icon": {
                                                                                                                                                    "$if $.Properties.DisplayAsKill": {
                                                                                                                                                        "$then": "difficulty",
                                                                                                                                                        "$else": "arrowright"
                                                                                                                                                    }
                                                                                                                                                },
                                                                                                                                                "summary": "$expand $.Properties.BriefingText"
                                                                                                                                            }
                                                                                                                                        ]
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "case": "gamechanger",
                                                                                                                            "return": {
                                                                                                                                "$if": {
                                                                                                                                    "$condition": {
                                                                                                                                        "$or": [
                                                                                                                                            "$eqs ($arg ContractType,creation)",
                                                                                                                                            "$eqs ($arg ContractType,usercreated)",
                                                                                                                                            "$eqs ($arg ContractType,featured)"
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "$then": {
                                                                                                                                        "useZoomedImage": false,
                                                                                                                                        "header": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                                                "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "title": "$loc $.Properties.Name",
                                                                                                                                        "markedforremoval": {
                                                                                                                                            "$if $.Properties.IsMarkedForRemoval": {
                                                                                                                                                "$then": true,
                                                                                                                                                "$else": false
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "image": "$res $.Properties.TileImage",
                                                                                                                                        "icon": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "complication",
                                                                                                                                                "$else": "complication_optional"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "briefingfocus": true,
                                                                                                                                        "state": "$.Properties.State",
                                                                                                                                        "category": "$.Properties.ObjectivesCategory",
                                                                                                                                        "longdescription": {
                                                                                                                                            "$if $stringvalid $.Properties.LongDescription": {
                                                                                                                                                "$then": "$loc $.Properties.LongDescription",
                                                                                                                                                "$else": ""
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "contracttype": "$arg ContractType",
                                                                                                                                        "conditions": [
                                                                                                                                            {
                                                                                                                                                "type": "gamechanger",
                                                                                                                                                "icon": "arrowright",
                                                                                                                                                "summary": "$loc $.Properties.Description"
                                                                                                                                            }
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "$else": {
                                                                                                                                        "useZoomedImage": false,
                                                                                                                                        "header": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                                        "title": "$loc $.Properties.Name",
                                                                                                                                        "image": "$res $.Properties.TileImage",
                                                                                                                                        "icon": "complication",
                                                                                                                                        "isnew": "$.Properties.IsNew",
                                                                                                                                        "briefingfocus": true,
                                                                                                                                        "state": "",
                                                                                                                                        "category": "$.Properties.ObjectivesCategory",
                                                                                                                                        "longdescription": {
                                                                                                                                            "$if $stringvalid $.Properties.LongDescription": {
                                                                                                                                                "$then": "$loc $.Properties.LongDescription",
                                                                                                                                                "$else": ""
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "contracttype": "$arg ContractType",
                                                                                                                                        "conditions": [
                                                                                                                                            {
                                                                                                                                                "type": "gamechanger",
                                                                                                                                                "icon": "arrowright",
                                                                                                                                                "summary": "$loc $.Properties.Description"
                                                                                                                                            }
                                                                                                                                        ]
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                "displaybuttons": [
                                                                                                                    {
                                                                                                                        "actiontype": "accept",
                                                                                                                        "actionlabel": "$loc UI_BUTTON_PROMPTS_ACTION_SWITCH_OBJECTIVE_INFORMATION",
                                                                                                                        "hideIndicator": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "actiontype": "cancel",
                                                                                                                        "actionlabel": "$loc UI_BUTTON_PROMPTS_ACTION_BACK",
                                                                                                                        "hideIndicator": true
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                },
                                                                                                "action-y": {
                                                                                                    "$if ": {
                                                                                                        "$condition": {
                                                                                                            "$and": [
                                                                                                                "$eqs ($arg ContractType,creation)",
                                                                                                                "$not $arg WasExitGateTriggered"
                                                                                                            ]
                                                                                                        },
                                                                                                        "$then": {
                                                                                                            "$switch $.Type": [
                                                                                                                {
                                                                                                                    "case": "kill",
                                                                                                                    "return": {
                                                                                                                        "show-modal": {
                                                                                                                            "config": {
                                                                                                                                "view": "menu3.modal.ModalDialogGeneric",
                                                                                                                                "buttons": [
                                                                                                                                    {
                                                                                                                                        "label": "$loc UI_DIALOG_OK",
                                                                                                                                        "icon": "arrowright"
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "label": "$loc UI_DIALOG_CANCEL",
                                                                                                                                        "type": "cancel"
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "data": {
                                                                                                                                    "title": "$loc UI_DIALOG_UNMARK_TARGET_TITLE",
                                                                                                                                    "description": "$loc UI_DIALOG_UNMARK_TARGET_TEXT"
                                                                                                                                }
                                                                                                                            },
                                                                                                                            "onbutton": [
                                                                                                                                {
                                                                                                                                    "untag-actor": {
                                                                                                                                        "repoID": "$.Properties.Id"
                                                                                                                                    },
                                                                                                                                    "remove-children": {
                                                                                                                                        "target": "logbook_objectives_container",
                                                                                                                                        "children": [
                                                                                                                                            "$formatstring OBJECTIVE_TARGET_{$.Properties.Id}"
                                                                                                                                        ]
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "case": "gamechanger",
                                                                                                                    "return": {
                                                                                                                        "cycle-contract-condition-state-pressed": {
                                                                                                                            "Id": "$.Properties.Id"
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "case": "custom",
                                                                                                                    "return": {
                                                                                                                        "cycle-contract-condition-state-pressed": {
                                                                                                                            "Id": "$.Properties.Id"
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                    {
                                                                                        "$each $.ObjectiveInfo": {
                                                                                            "view": "menu3.basic.ObjectiveTile",
                                                                                            "nrows": 3,
                                                                                            "ncols": 2,
                                                                                            "id": "$formatstring OBJECTIVE_TARGET_{$.Properties.Id}",
                                                                                            "data": {
                                                                                                "$switch $.Type": [
                                                                                                    {
                                                                                                        "case": "kill",
                                                                                                        "return": {
                                                                                                            "useZoomedImage": true,
                                                                                                            "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                            "title": "$($repository $.Properties.Id).Name",
                                                                                                            "image": "$res $($repository $.Properties.Id).Image",
                                                                                                            "icon": "target",
                                                                                                            "isnew": "$.Properties.IsNew",
                                                                                                            "state": "$.Properties.State",
                                                                                                            "category": "$.Properties.ObjectivesCategory",
                                                                                                            "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                            "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                            "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                            "contracttype": "$arg ContractType",
                                                                                                            "conditions": {
                                                                                                                "$setup": {
                                                                                                                    "$set Conditions": "$.Properties.Conditions",
                                                                                                                    "$in": {
                                                                                                                        "$each $.Conditions": {
                                                                                                                            "$mergeobjects": [
                                                                                                                                {
                                                                                                                                    "type": "kill"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "$switch $.Type": [
                                                                                                                                        {
                                                                                                                                            "case": "weapontype",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "difficulty",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                "title": {
                                                                                                                                                    "$setup": {
                                                                                                                                                        "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                                                                                                        "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                                                                                                        "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                                                                                                        "$in": "$loc $formatstring UI_ITEM_ONLINETRAITS_{$.KillItemCategoryOnlineTrait}"
                                                                                                                                                    }
                                                                                                                                                },
                                                                                                                                                "image": {
                                                                                                                                                    "$setup": {
                                                                                                                                                        "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                                                                                                        "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                                                                                                        "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                                                                                                        "$in": {
                                                                                                                                                            "$switch $.KillItemCategoryOnlineTrait": [
                                                                                                                                                                {
                                                                                                                                                                    "case": "melee_nonlethal",
                                                                                                                                                                    "return": "$res $formatstring images/contractconditions/condition_killmethod_melee_lethal.jpg"
                                                                                                                                                                },
                                                                                                                                                                {
                                                                                                                                                                    "default": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillItemCategoryOnlineTrait}.jpg"
                                                                                                                                                                }
                                                                                                                                                            ]
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "weapon",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "difficulty",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                "title": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                                                                                                "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "hitmansuit",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "disguise",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                                                                                                "title": "$loc UI_BRIEFING_CONDITION_HITMANSUIT",
                                                                                                                                                "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "disguise",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "disguise",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                                                                                                "title": "$loc $($repository $.RepositoryId).Name",
                                                                                                                                                "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "killmethod",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "difficulty",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                "title": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                                                                                                "image": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillMethod}.jpg"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "case": "killmethod_specificitem",
                                                                                                                                            "return": {
                                                                                                                                                "icon": "difficulty",
                                                                                                                                                "satisfied": "$.Satisfied",
                                                                                                                                                "hardcondition": "$.HardCondition",
                                                                                                                                                "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                "title": {
                                                                                                                                                    "$setup": {
                                                                                                                                                        "$set KillItemLocalisedName": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                                                                                                        "$set KillMethodLocalisedName": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                                                                                                        "$in": "$formatstring {$.KillMethodLocalisedName}: {$.KillItemLocalisedName}"
                                                                                                                                                    }
                                                                                                                                                },
                                                                                                                                                "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    ]
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "case": "customkill",
                                                                                                        "return": {
                                                                                                            "useZoomedImage": true,
                                                                                                            "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                            "title": "$($repository $.Properties.Id).Name",
                                                                                                            "image": "$res $($repository $.Properties.Id).Image",
                                                                                                            "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                            "icon": "target",
                                                                                                            "isnew": "$.Properties.IsNew",
                                                                                                            "state": "$.Properties.State",
                                                                                                            "category": "$.Properties.ObjectivesCategory",
                                                                                                            "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                            "contracttype": "$arg ContractType",
                                                                                                            "conditions": [
                                                                                                                {
                                                                                                                    "type": "customkill",
                                                                                                                    "icon": "difficulty",
                                                                                                                    "summary": "$expand $.Properties.BriefingText"
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "case": "setpiece",
                                                                                                        "return": {
                                                                                                            "useZoomedImage": {
                                                                                                                "$if $.Properties.DisplayAsKill": {
                                                                                                                    "$then": true,
                                                                                                                    "$else": false
                                                                                                                }
                                                                                                            },
                                                                                                            "header": {
                                                                                                                "$if $.Properties.DisplayAsKill": {
                                                                                                                    "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                    "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                                                                                                }
                                                                                                            },
                                                                                                            "title": {
                                                                                                                "$if $.Properties.BriefingName": {
                                                                                                                    "$then": "$expand $.Properties.BriefingName",
                                                                                                                    "$else": "$($repository $.Properties.Id).Name"
                                                                                                                }
                                                                                                            },
                                                                                                            "image": {
                                                                                                                "$if $stringlength $.Properties.Image": {
                                                                                                                    "$then": "$res $.Properties.Image",
                                                                                                                    "$else": "$res $($repository $.Properties.Id).Image"
                                                                                                                }
                                                                                                            },
                                                                                                            "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                            "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                            "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                            "icon": {
                                                                                                                "$if $.Properties.DisplayAsKill": {
                                                                                                                    "$then": "target",
                                                                                                                    "$else": "objective"
                                                                                                                }
                                                                                                            },
                                                                                                            "isnew": "$.Properties.IsNew",
                                                                                                            "state": "$.Properties.State",
                                                                                                            "category": "$.Properties.ObjectivesCategory",
                                                                                                            "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                            "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                            "contracttype": "$arg ContractType",
                                                                                                            "conditions": [
                                                                                                                {
                                                                                                                    "image": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                    "type": "setpiece",
                                                                                                                    "icon": {
                                                                                                                        "$if $.Properties.DisplayAsKill": {
                                                                                                                            "$then": "difficulty",
                                                                                                                            "$else": "arrowright"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "summary": "$expand $.Properties.BriefingText"
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "case": "custom",
                                                                                                        "return": {
                                                                                                            "$if": {
                                                                                                                "$condition": {
                                                                                                                    "$or": [
                                                                                                                        "$eqs ($arg ContractType,creation)",
                                                                                                                        "$eqs ($arg ContractType,usercreated)",
                                                                                                                        "$eqs ($arg ContractType,featured)"
                                                                                                                    ]
                                                                                                                },
                                                                                                                "$then": {
                                                                                                                    "useZoomedImage": false,
                                                                                                                    "header": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                            "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "title": "$expand $.Properties.BriefingName",
                                                                                                                    "markedforremoval": {
                                                                                                                        "$if $.Properties.IsMarkedForRemoval": {
                                                                                                                            "$then": true,
                                                                                                                            "$else": false
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "image": "$res $.Properties.Image",
                                                                                                                    "icon": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "complication",
                                                                                                                            "$else": "complication_optional"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "isnew": "$.Properties.IsNew",
                                                                                                                    "state": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "Unknown",
                                                                                                                            "$else": "$.Properties.State"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "category": "$.Properties.ObjectivesCategory",
                                                                                                                    "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                    "displayaskill": false,
                                                                                                                    "contracttype": "$arg ContractType",
                                                                                                                    "conditions": [
                                                                                                                        {
                                                                                                                            "type": "setpiece",
                                                                                                                            "icon": "arrowright",
                                                                                                                            "summary": "$expand $.Properties.BriefingText"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                "$else": {
                                                                                                                    "useZoomedImage": {
                                                                                                                        "$if $.Properties.DisplayAsKill": {
                                                                                                                            "$then": true,
                                                                                                                            "$else": false
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "header": {
                                                                                                                        "$if $.Properties.DisplayAsKill": {
                                                                                                                            "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                            "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "title": "$expand $.Properties.BriefingName",
                                                                                                                    "image": "$res $.Properties.Image",
                                                                                                                    "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                    "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                                    "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                                    "icon": {
                                                                                                                        "$if $.Properties.DisplayAsKill": {
                                                                                                                            "$then": "target",
                                                                                                                            "$else": "objective"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "isnew": "$.Properties.IsNew",
                                                                                                                    "state": {
                                                                                                                        "$if $eqs ($.Properties.State,Completed)": {
                                                                                                                            "$then": "Completed",
                                                                                                                            "$else": "Unknown"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "category": "$.Properties.ObjectivesCategory",
                                                                                                                    "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                    "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                                    "contracttype": "$arg ContractType",
                                                                                                                    "conditions": [
                                                                                                                        {
                                                                                                                            "type": "setpiece",
                                                                                                                            "icon": {
                                                                                                                                "$if $.Properties.DisplayAsKill": {
                                                                                                                                    "$then": "difficulty",
                                                                                                                                    "$else": "arrowright"
                                                                                                                                }
                                                                                                                            },
                                                                                                                            "summary": "$expand $.Properties.BriefingText"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    },
                                                                                                    {
                                                                                                        "case": "gamechanger",
                                                                                                        "return": {
                                                                                                            "$if": {
                                                                                                                "$condition": {
                                                                                                                    "$or": [
                                                                                                                        "$eqs ($arg ContractType,creation)",
                                                                                                                        "$eqs ($arg ContractType,usercreated)",
                                                                                                                        "$eqs ($arg ContractType,featured)"
                                                                                                                    ]
                                                                                                                },
                                                                                                                "$then": {
                                                                                                                    "useZoomedImage": false,
                                                                                                                    "header": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                            "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "title": "$loc $.Properties.Name",
                                                                                                                    "markedforremoval": {
                                                                                                                        "$if $.Properties.IsMarkedForRemoval": {
                                                                                                                            "$then": true,
                                                                                                                            "$else": false
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "image": "$res $.Properties.TileImage",
                                                                                                                    "icon": {
                                                                                                                        "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                            "$then": "complication",
                                                                                                                            "$else": "complication_optional"
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "briefingfocus": true,
                                                                                                                    "state": "$.Properties.State",
                                                                                                                    "category": "$.Properties.ObjectivesCategory",
                                                                                                                    "longdescription": {
                                                                                                                        "$if $stringvalid $.Properties.LongDescription": {
                                                                                                                            "$then": "$loc $.Properties.LongDescription",
                                                                                                                            "$else": ""
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "contracttype": "$arg ContractType",
                                                                                                                    "conditions": [
                                                                                                                        {
                                                                                                                            "type": "gamechanger",
                                                                                                                            "icon": "arrowright",
                                                                                                                            "summary": "$loc $.Properties.Description"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                "$else": {
                                                                                                                    "useZoomedImage": false,
                                                                                                                    "header": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                    "title": "$loc $.Properties.Name",
                                                                                                                    "image": "$res $.Properties.TileImage",
                                                                                                                    "icon": "complication",
                                                                                                                    "isnew": "$.Properties.IsNew",
                                                                                                                    "briefingfocus": true,
                                                                                                                    "state": "",
                                                                                                                    "category": "$.Properties.ObjectivesCategory",
                                                                                                                    "longdescription": {
                                                                                                                        "$if $stringvalid $.Properties.LongDescription": {
                                                                                                                            "$then": "$loc $.Properties.LongDescription",
                                                                                                                            "$else": ""
                                                                                                                        }
                                                                                                                    },
                                                                                                                    "contracttype": "$arg ContractType",
                                                                                                                    "conditions": [
                                                                                                                        {
                                                                                                                            "type": "gamechanger",
                                                                                                                            "icon": "arrowright",
                                                                                                                            "summary": "$loc $.Properties.Description"
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                ]
                                                                                            },
                                                                                            "buttons": [
                                                                                                {
                                                                                                    "$if ": {
                                                                                                        "$condition": {
                                                                                                            "$and": [
                                                                                                                "$eqs ($arg ContractType,creation)",
                                                                                                                "$not $arg WasExitGateTriggered"
                                                                                                            ]
                                                                                                        },
                                                                                                        "$then": {
                                                                                                            "$switch $.Type": [
                                                                                                                {
                                                                                                                    "case": "kill",
                                                                                                                    "return": {
                                                                                                                        "actiontype": "action-y",
                                                                                                                        "actionlabel": "$loc UI_BUTTON_PROMPTS_ACTION_UNMARK_TARGET"
                                                                                                                    }
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            ],
                                                                                            "actions": {
                                                                                                "on-page-opened": {
                                                                                                    "$if $eqs ($arg ContractType,creation)": {
                                                                                                        "$then": {
                                                                                                            "$switch $.Type": [
                                                                                                                {
                                                                                                                    "case": "gamechanger",
                                                                                                                    "return": {
                                                                                                                        "initialise-contract-condition-tiles": {
                                                                                                                            "Id": "$.Properties.Id"
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "case": "custom",
                                                                                                                    "return": {
                                                                                                                        "initialise-contract-condition-tiles": {
                                                                                                                            "Id": "$.Properties.Id"
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                },
                                                                                                "select": {
                                                                                                    "replace-children": {
                                                                                                        "target": "headline_container",
                                                                                                        "children": [
                                                                                                            {
                                                                                                                "view": "menu3.basic.HeadlineElement",
                                                                                                                "id": "headline_element"
                                                                                                            }
                                                                                                        ]
                                                                                                    },
                                                                                                    "update-content": {
                                                                                                        "target": "headline_element"
                                                                                                    },
                                                                                                    "hide-node": [
                                                                                                        "planningpage",
                                                                                                        "playpage"
                                                                                                    ],
                                                                                                    "set-group-selection": {
                                                                                                        "target": "briefing_button"
                                                                                                    }
                                                                                                },
                                                                                                "deselect": {
                                                                                                    "$mergeobjects": [
                                                                                                        {
                                                                                                            "replace-children": {
                                                                                                                "target": "headline_container",
                                                                                                                "children": []
                                                                                                            }
                                                                                                        },
                                                                                                        {
                                                                                                            "$switch $arg ContractType": [
                                                                                                                {
                                                                                                                    "case": "escalation",
                                                                                                                    "return": {
                                                                                                                        "hide-node": "escalation_level_headline_container"
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "case": "placeholder",
                                                                                                                    "return": {
                                                                                                                        "hide-node": "escalation_level_headline_container"
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "default": null
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                },
                                                                                                "accept": {
                                                                                                    "show-modal": {
                                                                                                        "config": {
                                                                                                            "priority": "low",
                                                                                                            "view": "menu3.modal.ModalDialogTargetObjectives",
                                                                                                            "buttons": [
                                                                                                                "$loc UI_DIALOG_OK",
                                                                                                                {
                                                                                                                    "type": "cancel"
                                                                                                                }
                                                                                                            ],
                                                                                                            "data": {
                                                                                                                "type": "$.Type",
                                                                                                                "infotitle": "$loc UI_MENU_PAGE_PAUSE_INTEL",
                                                                                                                "infoicon": "intel",
                                                                                                                "conditionstitle": "$loc UI_CONTRACT_KILL_CONDITIONS",
                                                                                                                "conditionsicon": "difficulty",
                                                                                                                "useconditions": true,
                                                                                                                "preferdescription": {
                                                                                                                    "$if": {
                                                                                                                        "$condition": {
                                                                                                                            "$and": [
                                                                                                                                "$not $eqs ($arg ContractType,escalation)",
                                                                                                                                "$not $eqs ($arg ContractType,placeholder)",
                                                                                                                                "$not $eqs ($arg ContractType,featured)",
                                                                                                                                "$not $eqs ($arg ContractType,usercreated)"
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                                "description": "$loc $($repository $.Properties.Id).Description_LOC",
                                                                                                                "objective": {
                                                                                                                    "$switch $.Type": [
                                                                                                                        {
                                                                                                                            "case": "kill",
                                                                                                                            "return": {
                                                                                                                                "useZoomedImage": true,
                                                                                                                                "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                                "title": "$($repository $.Properties.Id).Name",
                                                                                                                                "image": "$res $($repository $.Properties.Id).Image",
                                                                                                                                "icon": "target",
                                                                                                                                "isnew": "$.Properties.IsNew",
                                                                                                                                "state": "$.Properties.State",
                                                                                                                                "category": "$.Properties.ObjectivesCategory",
                                                                                                                                "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                                                "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                "contracttype": "$arg ContractType",
                                                                                                                                "conditions": {
                                                                                                                                    "$setup": {
                                                                                                                                        "$set Conditions": "$.Properties.Conditions",
                                                                                                                                        "$in": {
                                                                                                                                            "$each $.Conditions": {
                                                                                                                                                "$mergeobjects": [
                                                                                                                                                    {
                                                                                                                                                        "type": "kill"
                                                                                                                                                    },
                                                                                                                                                    {
                                                                                                                                                        "$switch $.Type": [
                                                                                                                                                            {
                                                                                                                                                                "case": "weapontype",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "difficulty",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                                    "title": {
                                                                                                                                                                        "$setup": {
                                                                                                                                                                            "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                                                                                                                            "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                                                                                                                            "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                                                                                                                            "$in": "$loc $formatstring UI_ITEM_ONLINETRAITS_{$.KillItemCategoryOnlineTrait}"
                                                                                                                                                                        }
                                                                                                                                                                    },
                                                                                                                                                                    "image": {
                                                                                                                                                                        "$setup": {
                                                                                                                                                                            "$set OnlineTraits": "$($repository $.RepositoryId).OnlineTraits",
                                                                                                                                                                            "$set KillItemCategoryOnlineTraitsIndex": "$($repository $.RepositoryId).KillItemCategoryOnlineTraitsIndex",
                                                                                                                                                                            "$set KillItemCategoryOnlineTrait": "$.OnlineTraits[$.KillItemCategoryOnlineTraitsIndex]",
                                                                                                                                                                            "$in": {
                                                                                                                                                                                "$switch $.KillItemCategoryOnlineTrait": [
                                                                                                                                                                                    {
                                                                                                                                                                                        "case": "melee_nonlethal",
                                                                                                                                                                                        "return": "$res $formatstring images/contractconditions/condition_killmethod_melee_lethal.jpg"
                                                                                                                                                                                    },
                                                                                                                                                                                    {
                                                                                                                                                                                        "default": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillItemCategoryOnlineTrait}.jpg"
                                                                                                                                                                                    }
                                                                                                                                                                                ]
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "weapon",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "difficulty",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                                    "title": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                                                                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "hitmansuit",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "disguise",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                                                                                                                    "title": "$loc UI_BRIEFING_CONDITION_HITMANSUIT",
                                                                                                                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "disguise",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "disguise",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_DISGUISE",
                                                                                                                                                                    "title": "$loc $($repository $.RepositoryId).Name",
                                                                                                                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "killmethod",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "difficulty",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                                    "title": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                                                                                                                    "image": "$res $formatstring images/contractconditions/condition_killmethod_{$.KillMethod}.jpg"
                                                                                                                                                                }
                                                                                                                                                            },
                                                                                                                                                            {
                                                                                                                                                                "case": "killmethod_specificitem",
                                                                                                                                                                "return": {
                                                                                                                                                                    "icon": "difficulty",
                                                                                                                                                                    "satisfied": "$.Satisfied",
                                                                                                                                                                    "hardcondition": "$.HardCondition",
                                                                                                                                                                    "header": "$loc UI_BRIEFING_CONDITION_ELIMINATE_WITH",
                                                                                                                                                                    "title": {
                                                                                                                                                                        "$setup": {
                                                                                                                                                                            "$set KillItemLocalisedName": "$loc $($repository $.RepositoryId).Name_LOC",
                                                                                                                                                                            "$set KillMethodLocalisedName": "$loc $formatstring UI_KILL_METHOD_{$.KillMethod}",
                                                                                                                                                                            "$in": "$formatstring {$.KillMethodLocalisedName}: {$.KillItemLocalisedName}"
                                                                                                                                                                        }
                                                                                                                                                                    },
                                                                                                                                                                    "image": "$res $($repository $.RepositoryId).Image"
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                        ]
                                                                                                                                                    }
                                                                                                                                                ]
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "case": "customkill",
                                                                                                                            "return": {
                                                                                                                                "useZoomedImage": true,
                                                                                                                                "header": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                                "title": "$($repository $.Properties.Id).Name",
                                                                                                                                "image": "$res $($repository $.Properties.Id).Image",
                                                                                                                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                "icon": "target",
                                                                                                                                "isnew": "$.Properties.IsNew",
                                                                                                                                "state": "$.Properties.State",
                                                                                                                                "category": "$.Properties.ObjectivesCategory",
                                                                                                                                "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                                                "contracttype": "$arg ContractType",
                                                                                                                                "conditions": [
                                                                                                                                    {
                                                                                                                                        "type": "customkill",
                                                                                                                                        "icon": "difficulty",
                                                                                                                                        "summary": "$expand $.Properties.BriefingText"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "case": "setpiece",
                                                                                                                            "return": {
                                                                                                                                "useZoomedImage": {
                                                                                                                                    "$if $.Properties.DisplayAsKill": {
                                                                                                                                        "$then": true,
                                                                                                                                        "$else": false
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "header": {
                                                                                                                                    "$if $.Properties.DisplayAsKill": {
                                                                                                                                        "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                                        "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "title": {
                                                                                                                                    "$if $.Properties.BriefingName": {
                                                                                                                                        "$then": "$expand $.Properties.BriefingName",
                                                                                                                                        "$else": "$($repository $.Properties.Id).Name"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "image": {
                                                                                                                                    "$if $stringlength $.Properties.Image": {
                                                                                                                                        "$then": "$res $.Properties.Image",
                                                                                                                                        "$else": "$res $($repository $.Properties.Id).Image"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                                                "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                                                "icon": {
                                                                                                                                    "$if $.Properties.DisplayAsKill": {
                                                                                                                                        "$then": "target",
                                                                                                                                        "$else": "objective"
                                                                                                                                    }
                                                                                                                                },
                                                                                                                                "isnew": "$.Properties.IsNew",
                                                                                                                                "state": "$.Properties.State",
                                                                                                                                "category": "$.Properties.ObjectivesCategory",
                                                                                                                                "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                                "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                                                "contracttype": "$arg ContractType",
                                                                                                                                "conditions": [
                                                                                                                                    {
                                                                                                                                        "image": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                        "type": "setpiece",
                                                                                                                                        "icon": {
                                                                                                                                            "$if $.Properties.DisplayAsKill": {
                                                                                                                                                "$then": "difficulty",
                                                                                                                                                "$else": "arrowright"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "summary": "$expand $.Properties.BriefingText"
                                                                                                                                    }
                                                                                                                                ]
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "case": "custom",
                                                                                                                            "return": {
                                                                                                                                "$if": {
                                                                                                                                    "$condition": {
                                                                                                                                        "$or": [
                                                                                                                                            "$eqs ($arg ContractType,creation)",
                                                                                                                                            "$eqs ($arg ContractType,usercreated)",
                                                                                                                                            "$eqs ($arg ContractType,featured)"
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "$then": {
                                                                                                                                        "useZoomedImage": false,
                                                                                                                                        "header": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                                                "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "title": "$expand $.Properties.BriefingName",
                                                                                                                                        "markedforremoval": {
                                                                                                                                            "$if $.Properties.IsMarkedForRemoval": {
                                                                                                                                                "$then": true,
                                                                                                                                                "$else": false
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "image": "$res $.Properties.Image",
                                                                                                                                        "icon": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "complication",
                                                                                                                                                "$else": "complication_optional"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "isnew": "$.Properties.IsNew",
                                                                                                                                        "state": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "Unknown",
                                                                                                                                                "$else": "$.Properties.State"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "category": "$.Properties.ObjectivesCategory",
                                                                                                                                        "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                                        "displayaskill": false,
                                                                                                                                        "contracttype": "$arg ContractType",
                                                                                                                                        "conditions": [
                                                                                                                                            {
                                                                                                                                                "type": "setpiece",
                                                                                                                                                "icon": "arrowright",
                                                                                                                                                "summary": "$expand $.Properties.BriefingText"
                                                                                                                                            }
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "$else": {
                                                                                                                                        "useZoomedImage": {
                                                                                                                                            "$if $.Properties.DisplayAsKill": {
                                                                                                                                                "$then": true,
                                                                                                                                                "$else": false
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "header": {
                                                                                                                                            "$if $.Properties.DisplayAsKill": {
                                                                                                                                                "$then": "$loc UI_OBJECTIVES_TARG_HEADER",
                                                                                                                                                "$else": "$loc UI_OBJECTIVES_TARG_ITEM"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "title": "$expand $.Properties.BriefingName",
                                                                                                                                        "image": "$res $.Properties.Image",
                                                                                                                                        "killwithanything": "$res images/ui/tiles/kill_with_something_else.jpg",
                                                                                                                                        "anydisguise": "$res images/ui/tiles/any_disguise.jpg",
                                                                                                                                        "anyweapon": "$res images/ui/tiles/any_weapon.jpg",
                                                                                                                                        "icon": {
                                                                                                                                            "$if $.Properties.DisplayAsKill": {
                                                                                                                                                "$then": "target",
                                                                                                                                                "$else": "objective"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "isnew": "$.Properties.IsNew",
                                                                                                                                        "state": {
                                                                                                                                            "$if $eqs ($.Properties.State,Completed)": {
                                                                                                                                                "$then": "Completed",
                                                                                                                                                "$else": "Unknown"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "category": "$.Properties.ObjectivesCategory",
                                                                                                                                        "longdescription": "$expand $.Properties.LongBriefingText",
                                                                                                                                        "displayaskill": "$.Properties.DisplayAsKill",
                                                                                                                                        "contracttype": "$arg ContractType",
                                                                                                                                        "conditions": [
                                                                                                                                            {
                                                                                                                                                "type": "setpiece",
                                                                                                                                                "icon": {
                                                                                                                                                    "$if $.Properties.DisplayAsKill": {
                                                                                                                                                        "$then": "difficulty",
                                                                                                                                                        "$else": "arrowright"
                                                                                                                                                    }
                                                                                                                                                },
                                                                                                                                                "summary": "$expand $.Properties.BriefingText"
                                                                                                                                            }
                                                                                                                                        ]
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "case": "gamechanger",
                                                                                                                            "return": {
                                                                                                                                "$if": {
                                                                                                                                    "$condition": {
                                                                                                                                        "$or": [
                                                                                                                                            "$eqs ($arg ContractType,creation)",
                                                                                                                                            "$eqs ($arg ContractType,usercreated)",
                                                                                                                                            "$eqs ($arg ContractType,featured)"
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "$then": {
                                                                                                                                        "useZoomedImage": false,
                                                                                                                                        "header": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                                                "$else": "$formatstring {$loc UI_DIALOG_OPTIONAL} {$loc UI_OBJECTIVES_TARG_GAMECHANGER}"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "title": "$loc $.Properties.Name",
                                                                                                                                        "markedforremoval": {
                                                                                                                                            "$if $.Properties.IsMarkedForRemoval": {
                                                                                                                                                "$then": true,
                                                                                                                                                "$else": false
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "image": "$res $.Properties.TileImage",
                                                                                                                                        "icon": {
                                                                                                                                            "$if $eqs ($.Properties.ObjectivesCategory,primary)": {
                                                                                                                                                "$then": "complication",
                                                                                                                                                "$else": "complication_optional"
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "briefingfocus": true,
                                                                                                                                        "state": "$.Properties.State",
                                                                                                                                        "category": "$.Properties.ObjectivesCategory",
                                                                                                                                        "longdescription": {
                                                                                                                                            "$if $stringvalid $.Properties.LongDescription": {
                                                                                                                                                "$then": "$loc $.Properties.LongDescription",
                                                                                                                                                "$else": ""
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "contracttype": "$arg ContractType",
                                                                                                                                        "conditions": [
                                                                                                                                            {
                                                                                                                                                "type": "gamechanger",
                                                                                                                                                "icon": "arrowright",
                                                                                                                                                "summary": "$loc $.Properties.Description"
                                                                                                                                            }
                                                                                                                                        ]
                                                                                                                                    },
                                                                                                                                    "$else": {
                                                                                                                                        "useZoomedImage": false,
                                                                                                                                        "header": "$loc UI_OBJECTIVES_TARG_GAMECHANGER",
                                                                                                                                        "title": "$loc $.Properties.Name",
                                                                                                                                        "image": "$res $.Properties.TileImage",
                                                                                                                                        "icon": "complication",
                                                                                                                                        "isnew": "$.Properties.IsNew",
                                                                                                                                        "briefingfocus": true,
                                                                                                                                        "state": "",
                                                                                                                                        "category": "$.Properties.ObjectivesCategory",
                                                                                                                                        "longdescription": {
                                                                                                                                            "$if $stringvalid $.Properties.LongDescription": {
                                                                                                                                                "$then": "$loc $.Properties.LongDescription",
                                                                                                                                                "$else": ""
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        "contracttype": "$arg ContractType",
                                                                                                                                        "conditions": [
                                                                                                                                            {
                                                                                                                                                "type": "gamechanger",
                                                                                                                                                "icon": "arrowright",
                                                                                                                                                "summary": "$loc $.Properties.Description"
                                                                                                                                            }
                                                                                                                                        ]
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                "displaybuttons": [
                                                                                                                    {
                                                                                                                        "actiontype": "accept",
                                                                                                                        "actionlabel": "$loc UI_BUTTON_PROMPTS_ACTION_SWITCH_OBJECTIVE_INFORMATION",
                                                                                                                        "hideIndicator": true
                                                                                                                    },
                                                                                                                    {
                                                                                                                        "actiontype": "cancel",
                                                                                                                        "actionlabel": "$loc UI_BUTTON_PROMPTS_ACTION_BACK",
                                                                                                                        "hideIndicator": true
                                                                                                                    }
                                                                                                                ]
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                },
                                                                                                "action-y": {
                                                                                                    "$if ": {
                                                                                                        "$condition": {
                                                                                                            "$and": [
                                                                                                                "$eqs ($arg ContractType,creation)",
                                                                                                                "$not $arg WasExitGateTriggered"
                                                                                                            ]
                                                                                                        },
                                                                                                        "$then": {
                                                                                                            "$switch $.Type": [
                                                                                                                {
                                                                                                                    "case": "kill",
                                                                                                                    "return": {
                                                                                                                        "show-modal": {
                                                                                                                            "config": {
                                                                                                                                "view": "menu3.modal.ModalDialogGeneric",
                                                                                                                                "buttons": [
                                                                                                                                    {
                                                                                                                                        "label": "$loc UI_DIALOG_OK",
                                                                                                                                        "icon": "arrowright"
                                                                                                                                    },
                                                                                                                                    {
                                                                                                                                        "label": "$loc UI_DIALOG_CANCEL",
                                                                                                                                        "type": "cancel"
                                                                                                                                    }
                                                                                                                                ],
                                                                                                                                "data": {
                                                                                                                                    "title": "$loc UI_DIALOG_UNMARK_TARGET_TITLE",
                                                                                                                                    "description": "$loc UI_DIALOG_UNMARK_TARGET_TEXT"
                                                                                                                                }
                                                                                                                            },
                                                                                                                            "onbutton": [
                                                                                                                                {
                                                                                                                                    "untag-actor": {
                                                                                                                                        "repoID": "$.Properties.Id"
                                                                                                                                    },
                                                                                                                                    "remove-children": {
                                                                                                                                        "target": "logbook_objectives_container",
                                                                                                                                        "children": [
                                                                                                                                            "$formatstring OBJECTIVE_TARGET_{$.Properties.Id}"
                                                                                                                                        ]
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "case": "gamechanger",
                                                                                                                    "return": {
                                                                                                                        "cycle-contract-condition-state-pressed": {
                                                                                                                            "Id": "$.Properties.Id"
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                                {
                                                                                                                    "case": "custom",
                                                                                                                    "return": {
                                                                                                                        "cycle-contract-condition-state-pressed": {
                                                                                                                            "Id": "$.Properties.Id"
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                ]
                                                                            }
                                                                        }
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    }
}
